// -*-Mode: C;-*-
/**
@file
@brief 

This file contains the definitions and prototypes for the RRIEM symbol value table.

@verbatim
                               Copyright 2017
                                    by
                       The Board of Trustees of the
                    Leland Stanford Junior University.
                           All rights reserved.
@endverbatim

@par Facility: PGP
configuration

@author
Sergio Maldonado, SLAC (smaldona@slac.stanford.edu)

@par Date created:
02/10/2017

@par Credits:
SLAC

*/

#include <stdint.h>

#include "pgp/Pgp.h"
#include "pgp/RriEm.h"

/* Set of default RRIEM register value entries.
 * At least 1 entry must be defined for each 256K
 * register address space to be emulated.
 * The RRIEM emulates up to 64Mbytes of address space.
 *
*/
const RRIEM_Entry RRIEM_0_REG_TABLE[] = {
  {0x0,0}, /* remove these dummy register values */
  {0x1,0x2C0010},
  {0x2,0x3C},
  {0x3,0x87654321},
  {0x03ffff,0x89abcdef},
  {0x330000,0x11111111},
  {0x340000,0x66666666},
  {0x37ffff,0x22222222},
  {0x380000,0x44444444},  
  {0x3bffff,0xAAAAAAAA},
  {0x3c0000,0xBBBBBBBB},  
  {0x400000,0x400000},
  {0x400007,0x400007},
  {0x600000,0xFFFFFFFF},
  {0x601000,0xAAAAAAAA},
  {0x700000,0x77777777},
  {0x800000,0},
  {0x800001,0x69705c18},
  {0x800002,0x11c040},
  {0x800010,0x00},
  {0x800011,0x01},
  {0x800012,0x02},
  {0x800013,0x03},
  {0x800014,0x04},
  {0x800015,0x05},
  {0x800016,0x06},
  {0x800017,0x07},
  {0x800018,0x08},
  {0x800019,0x09},
  {0x80001A,0x0A},
  {0x80001B,0x0B},
  {0x80001C,0x0C},
  {0x80001D,0x0D},
  {0x80001E,0x0E},
  {0x80001F,0x0F},
  {0x900000,0xDDDDDDDD},
  {0xa00000,0x88888888},
  {0xb00000,0x16161616},
  {0xd00000,0x39393939}};

const RRIEM_Entry RRIEM_1_REG_TABLE[] = {
  {0x0,0}, /* remove these dummy register values */
  {0x1,0x2C0010},
  {0x2,0x3D},
  {0x3,0x87654321},
  {0x03ffff,0x89abcdef},
  {0x330000,0x11111111},
  {0x340000,0x66666666},
  {0x37ffff,0x22222222},
  {0x380000,0x44444444},  
  {0x3bffff,0xAAAAAAAA},
  {0x3c0000,0xBBBBBBBB},  
  {0x400000,0x400000},
  {0x400007,0x400007},
  {0x600000,0xFFFFFFFF},
  {0x601000,0xAAAAAAAA},
  {0x700000,0x77777777},
  {0x800000,0},
  {0x800001,0x69705c19},
  {0x800002,0x11c040},
  {0x800010,0x100},
  {0x800011,0x101},
  {0x800012,0x102},
  {0x800013,0x103},
  {0x800014,0x104},
  {0x800015,0x105},
  {0x800016,0x106},
  {0x800017,0x107},
  {0x800018,0x108},
  {0x800019,0x109},
  {0x80001A,0x10A},
  {0x80001B,0x10B},
  {0x80001C,0x10C},
  {0x80001D,0x10D},
  {0x80001E,0x10E},
  {0x80001F,0x10F},
  {0x900000,0xDDDDDDDD},
  {0xa00000,0x88888888},
  {0xb00000,0x16161616},
  {0xd00000,0x39393939}};
  
const RRIEM_Entry RRIEM_2_REG_TABLE[] = {
  {0x0,0}, /* remove these dummy register values */
  {0x1,0x2C0010},
  {0x2,0x3E},
  {0x3,0x87654321},
  {0x03ffff,0x89abcdef},
  {0x330000,0x11111111},
  {0x340000,0x66666666},
  {0x37ffff,0x22222222},
  {0x380000,0x44444444},  
  {0x3bffff,0xAAAAAAAA},
  {0x3c0000,0xBBBBBBBB},  
  {0x400000,0x400000},
  {0x400007,0x400007},
  {0x600000,0xFFFFFFFF},
  {0x601000,0xAAAAAAAA},
  {0x700000,0x77777777},
  {0x800000,0},
  {0x800001,0x69705c1A},
  {0x800002,0x11c040},
  {0x800010,0x200},
  {0x800011,0x201},
  {0x800012,0x202},
  {0x800013,0x203},
  {0x800014,0x204},
  {0x800015,0x205},
  {0x800016,0x206},
  {0x800017,0x207},
  {0x800018,0x208},
  {0x800019,0x209},
  {0x80001A,0x20A},
  {0x80001B,0x20B},
  {0x80001C,0x20C},
  {0x80001D,0x20D},
  {0x80001E,0x20E},
  {0x80001F,0x20F},
  {0x900000,0xDDDDDDDD},
  {0xa00000,0x88888888},
  {0xb00000,0x16161616},
  {0xd00000,0x39393939}};
  
  
/* Configuration structure read by RRIEM at initialization */
RRIEM_Cfg RRIEM_0_BASE_CONFIG = {
  (sizeof(RRIEM_0_REG_TABLE)/sizeof(RRIEM_Entry)), /* count of reg val entries */
  RRIEM_0_REG_TABLE, /* reg value entries */
  };

RRIEM_Cfg RRIEM_1_BASE_CONFIG = {
  (sizeof(RRIEM_1_REG_TABLE)/sizeof(RRIEM_Entry)), /* count of reg val entries */
  RRIEM_1_REG_TABLE, /* reg value entries */
  };

RRIEM_Cfg RRIEM_2_BASE_CONFIG = {
  (sizeof(RRIEM_2_REG_TABLE)/sizeof(RRIEM_Entry)), /* count of reg val entries */
  RRIEM_2_REG_TABLE, /* reg value entries */
  };

RRIEM_Cfg *RRIEM_CONFIG[PGP_NUMOF_LINKS] = {
  &RRIEM_0_BASE_CONFIG,
  &RRIEM_1_BASE_CONFIG,
  &RRIEM_2_BASE_CONFIG,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL
  };
